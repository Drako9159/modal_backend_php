<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

</head>

<body>
    <div id="content"></div>
    <script>

        let dataForm = {
            type_form: "",
            date_input: "",
            firstname: "",
            lastname: "",
            email: "",
            phone: "",
            price_range_min: "",
            price_range_max: "",
            time_start: "",
            time_end: "",
            asap: "",
            have_agent: "",
            have_house_sell: "",
            comments: "",
            recive_email: "",
            instructions: "",
            tags: "",
        }
        function formatDate() {
            var d = new Date(),
                month = '' + (d.getMonth() + 1),
                day = '' + d.getDate(),
                year = d.getFullYear();
            if (month.length < 2)
                month = '0' + month;
            if (day.length < 2)
                day = '0' + day;
            return [year, month, day].join('-');
        }

        const dateformat = formatDate()

        function renderPrimary() {
            const db = {
                id: "05",
                img: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8Nnx8fGVufDB8fHx8&w=1000&q=80",
                city: "New York City",
                place: "Queens",
                price: "$1,000,000",
                ref: "./05/openhouse.html",
                bed: "3",
                bath: "3",
                sqft: "3",
            }
            // remove codition for dev
            //if (!document.querySelector('.IDX-detailsAddressInfo') == null) {
            db.img = document.querySelector('#detailsMediaContainer').firstElementChild.href;
            db.price = document.querySelector('.IDX-field-rntLsePrice').firstElementChild.textContent
            db.place = document.querySelector('.IDX-detailsAddressInfo').textContent
            db.city = document.querySelector('.IDX-detailsAddressLocationInfo').textContent
            db.bed = document.querySelector('.IDX-field-bedrooms').children[1].textContent
            db.bath = document.querySelector('.IDX-field-totalBaths').children[1].textContent
            db.sqft = document.querySelector('.IDX-field-sqFt').children[1].textContent
            //}



            let promptDiv = `
            <div class="prompt">
            <div class="container-close">
                <button class="close"><span class="material-symbols-outlined">
                    close
                </span></button>
            </div>
        
            <div class="form-open-house">
                <h2>Create an Open House</h2>
                <div id="img-promp">
                    <img src="${db.img}" alt="openhouse" />
                </div>
                <div class="details">
                    <p>${db.price}</p>
                    <p>${db.place}</p>
                    <p>${db.city}</p>
                    <p>${db.bed} Beds | ${db.bath} Bath | ${db.sqft} Sqft</p>
                </div>
                <p class="registration-label">Registration Form</p>
                <select id="select-form" class="select-form" value="light">
                    <option value="light">Light Registration</option>
                    <option value="full-r">Full Registration</option>
                    <option value="virtual">Virtual Open House Registration</option>
                    <option value="light-comments">Light Registration With Comments</option>
                    <option value="full-comments">Full Registration With Comments</option>
                </select>
                <div class="date-time">
                    <input type="date" value="${dateformat}" id="date-input" />
                    <select id="time-start">
                        <option value="Start Time">Start Time</option>
                        <option value="08:00">8:00am</option>
                        <option value="08:30">8:30am</option>
                        <option value="09:00">9:00am</option>
                        <option value="09:30">9:30am</option>
                        <option value="10:00">10:00am</option>
                        <option value="10:30">10:30am</option>
                        <option value="11:00">11:00am</option>
                        <option value="11:30">11:30am</option>
                        <option value="12:00">12:00pm</option>
                        <option value="12:30">12:30pm</option>
                        <option value="13:00">1:00pm</option>
                        <option value="13:30">1:30pm</option>
                        <option value="14:00">2:00pm</option>
                        <option value="14:30">2:30pm</option>
                        <option value="15:00">3:00pm</option>
                        <option value="15:30">3:30pm</option>
                        <option value="16:00">4:00pm</option>
                        <option value="16:30">4:30pm</option>
                        <option value="17:00">5:00pm</option>
                        <option value="17:30">5:30pm</option>
                        <option value="18:00">6:00pm</option>
                        <option value="18:30">6:30pm</option>
                        <option value="19:00">7:00pm</option>
                        <option value="19:30">7:30pm</option>
                        <option value="20:00">8:00pm</option>
                    </select>
                    <select id="time-end">
                        <option value="End Time">End Time</option>
                        <option value="08:00">8:00am</option>
                        <option value="08:30">8:30am</option>
                        <option value="09:00">9:00am</option>
                        <option value="09:30">9:30am</option>
                        <option value="10:00">10:00am</option>
                        <option value="10:30">10:30am</option>
                        <option value="11:00">11:00am</option>
                        <option value="11:30">11:30am</option>
                        <option value="12:00">12:00pm</option>
                        <option value="12:30">12:30pm</option>
                        <option value="13:00">1:00pm</option>
                        <option value="13:30">1:30pm</option>
                        <option value="14:00">2:00pm</option>
                        <option value="14:30">2:30pm</option>
                        <option value="15:00">3:00pm</option>
                        <option value="15:30">3:30pm</option>
                        <option value="16:00">4:00pm</option>
                        <option value="16:30">4:30pm</option>
                        <option value="17:00">5:00pm</option>
                        <option value="17:30">5:30pm</option>
                        <option value="18:00">6:00pm</option>
                        <option value="18:30">6:30pm</option>
                        <option value="19:00">7:00pm</option>
                        <option value="19:30">7:30pm</option>
                        <option value="20:00">8:00pm</option>
                    </select>
                </div>
                <div id="virtual-tag"></div>
                <button id="start-open-house">START OPEN HOUSE</button>
            </div>
            </div>
            `;





            const content = document.querySelector('#content');
            content.innerHTML = promptDiv;
            content.classList.add('content');
            const prompt = document.querySelector('.prompt');
            const select = document.querySelector('select');
            const selectForm = document.querySelector('#select-form');
            const virtualContainer = document.querySelector('#virtual-tag');
            const dateInput = document.querySelector('#date-input');
            const timeStart = document.querySelector('#time-start');
            const timeEnd = document.querySelector('#time-end');
            const imgPromp = document.querySelector('#img-promp');
            const closeBtn = document.querySelector('.close');

            const dateformats = dateInput.value.split('-').join('-').replace(/-/g, '/');
            const button = document.querySelector('#start-open-house');



            selectForm.addEventListener("click", () => {
                if (select.value === "virtual") {
                    virtualContainer.innerHTML = `
                    <div>
                        <label for="instructions" for="instructions">Instructions</label>
                        <textarea value="instructions" name="instructions" id="instructions"
                        placeholder="Add instructions for your virtual openhouse - ie. meeting link"></textarea>
                    </div>
                    <div>
                        <label for="tags">Tags</label>
                        <input type="text" id="tags" name="tags" />
                    </div>
                    `


                } else {
                    virtualContainer.innerHTML = "";
                }
            })


            function genderTime(seed) {
                if (seed = "start") {
                    return (timeStart.value)
                } else if (seed = "end") {
                    return (timeEnd.value)
                }
            }


            function genderDate() {
                return new Date(dateformats)
                    .toDateString();
            };

            function formatTime(time) {
                if (time == "start") {
                    let timeSplit = timeStart.value.split(':'),
                        hours,
                        minutes,
                        meridian;
                    hours = timeSplit[0];
                    minutes = timeSplit[1];
                    if (hours > 12) {
                        meridian = 'PM';
                        hours -= 12;
                    } else if (hours < 12) {
                        meridian = 'AM';
                        if (hours == 0) {
                            hours = 12;
                        }
                    } else {
                        meridian = 'PM';
                    }
                    return (hours + ':' + minutes + ' ' + meridian)
                } else if (time == "end") {
                    let timeSplit = timeEnd.value.split(':'),
                        hours,
                        minutes,
                        meridian;
                    hours = timeSplit[0];
                    minutes = timeSplit[1];
                    if (hours > 12) {
                        meridian = 'PM';
                        hours -= 12;
                    } else if (hours < 12) {
                        meridian = 'AM';
                        if (hours == 0) {
                            hours = 12;
                        }
                    } else {
                        meridian = 'PM';
                    }
                    return (hours + ':' + minutes + ' ' + meridian)
                }
            }


            closeBtn.addEventListener("click", () => {
                prompt.classList.remove('expand');
                prompt.classList.remove('promptform');
                content.innerHTML = "";
                prompt.innerHTML = "";
                content.classList.remove('content');
            })

            button.addEventListener('click', () => {

                if (timeStart.value == "Start Time" || timeEnd.value == "End Time") {
                    alert("Please select a start and end time")
                    return
                }
                if (timeStart.value > timeEnd.value) {
                    alert("Please select a valid time")
                    return
                }
                prompt.classList.add('expand');
                prompt.classList.add('promptform');
                const value = select.value;
                if (value === 'light') {

                    prompt.innerHTML = `
                    <div class="container-form">
                        <div class="container-close">
                       <button class="close" onclick="closeOpen()">END OPEN HOUSE</button>
                    </div>
                    
                <h2>Light Registration</h2>
                <div class="form">
                           
                <div>
                    <div class="left"> 
                        <img src="${db.img}"
                        alt="openhouse">    
                    <h2>${db.place}</h2>
                    <p>${db.city}</p>
                    <p>${db.price}</p>
                    <p>${db.bed} Bed &nbsp; | &nbsp; ${db.bath} Baths &nbsp; | &nbsp; ${db.sqft}  Sqft</p>
            
                </div>

                <div class="right">
                    <p>${genderDate()}<br> ${formatTime("start")} - ${formatTime("end")}</p>
                <div class="form-include">
                    <input type="text" id="firstname" placeholder="First Name">
                    <input type="text" id="lastname" placeholder="Last Name">
                    <input type="text" id="email" placeholder="Email">
                    <input type="number" id="phone" placeholder="Phone Number">    
                </div>

                <div class="terms">
                    <input type="checkbox" id="terms" name="terms" value="terms">
                <label for="terms">Get amailed when similar properties hit the market</label>
                    </div>
                <button id="register">
                    <span class="material-symbols-outlined">
                    check_circle
                    </span>
                    CHECK IN</button>
                    <div class="telemarketing">
                    <p>By providing your number, you are expressly consenting, 
                    in writing, to receive telemarketing and other messages, 
                    including calls or texts at the number you provided above. 
                    This consent is not required to purchase any good or service. 
                    Message and data rates may apply. Text STOP to cancel.</p>    
                <div>
                </div>
                    </div>
                    </div>    
                        
                    </div>
                `;
                    const closeBtn = document.querySelector('.close');
                    closeBtn.addEventListener("click", () => {
                        prompt.classList.remove('expand');
                        prompt.classList.remove('promptform');
                        content.innerHTML = "";
                        prompt.innerHTML = "";
                        content.classList.remove('content');
                    })
                } else if (value === 'full-r') {
                    prompt.classList.add('reduce-left');
                    prompt.innerHTML = `
                    <div class="container-form">
                        <div class="container-close">
                       <button class="close" onclick="closeOpen()">END OPEN HOUSE</button>
                    </div>
                <h2>Full Registration</h2>
                <div class="form">
                  
                <div>
                    <div class="left">
                        <img src="${db.img}"
                        alt="openhouse">    
                        <h2>${db.place}</h2>
                    <p>${db.city}</p>
                    <p>${db.price}</p>
                    <p>${db.bed} Bed &nbsp; | &nbsp; ${db.bath} Baths &nbsp; | &nbsp; ${db.sqft}  Sqft</p>
                </div>
                <div class="right">
                    <p>${genderDate()}<br> ${formatTime("start")} - ${formatTime("end")}</p>
                <div class="form-include">
                <div class="form-two">
                    <input type="text" id="firstname" placeholder="First Name">
                    <input type="text" id="lastname" placeholder="Last Name">    
                </div>
                <div class="form-two">
                    <input type="text" id="email" placeholder="Email">
                    <input type="number" id="phone" placeholder="Phone Number">    
                </div>
                <div class="form-two">
                    <div>
                        <div  class="message">
                            <p>What is Your Current Price Range</p>    
                        </div>
                        <div>
                        <select id="price_range_min" value="No Min">
                            <option value="No Min">No Min</option>
                            <option value="100k">$100k</option>
                            <option value="200k">$200k</option>
                            <option value="300k">$300k</option>
                            <option value="400k">$400k</option>
                            <option value="500k">$500k</option>
                            <option value="600k">$600k</option>
                            <option value="700k">$700k</option>
                            <option value="800k">$800k</option>
                            <option value="900k">$900k</option>
                            <option value="1m">$1M</option>
                            <option value="1.5m">$1.5M</option>
                            <option value="2m">$2M</option>
                            <option value="2.5m">$2.5M</option>
                            <option value="3m">$3M</option>
                            <option value="3.5m">$3.5M</option>
                            <option value="4m">$4M</option>
                            <option value="4.5m">$4.5M</option>
                            <option value="5m">$5M</option>
                            <option value="6m">$6M</option>
                            <option value="7m">$7M</option>
                            <option value="8m">$8M</option>
                            <option value="9m">$9M</option>
                            <option value="10m">$10M</option>
                        </select>
                        <select id="price_range_max" value="No Max">
                            <option value="No Max">No Min</option>
                            <option value="100k">$100k</option>
                            <option value="200k">$200k</option>
                            <option value="300k">$300k</option>
                            <option value="400k">$400k</option>
                            <option value="500k">$500k</option>
                            <option value="600k">$600k</option>
                            <option value="700k">$700k</option>
                            <option value="800k">$800k</option>
                            <option value="900k">$900k</option>
                            <option value="1m">$1M</option>
                            <option value="1.5m">$1.5M</option>
                            <option value="2m">$2M</option>
                            <option value="2.5m">$2.5M</option>
                            <option value="3m">$3M</option>
                            <option value="3.5m">$3.5M</option>
                            <option value="4m">$4M</option>
                            <option value="4.5m">$4.5M</option>
                            <option value="5m">$5M</option>
                            <option value="6m">$6M</option>
                            <option value="7m">$7M</option>
                            <option value="8m">$8M</option>
                            <option value="9m">$9M</option>
                            <option value="10m">$10M</option>
                        </select>
                        </div>
                    </div>
                    <div >
                        <div>
                            <div class="message">
                                <p>How Soon Are You Looking to Buy?</p>  
                            </div>
                            <div>
                                <select id="asap" value="ASAP">
                                    <option value="ASAP">ASAP</option>
                                    <option value="1 - 3 Months">1 - 3 Months</option>
                                    <option value="6 - 12 Months">6 - 12 Months</option>
                                    <option value="12+ Months">12+ Months</option>

                                </select> 
                                
                            </div>
                               
                        </div>
                    </div>
                </div>
                <div class="form-two">
                    <div>
                        <div class="message">
                            <p>Are You Working With an Agent?</p>
                        </div>
                        <div class="radios">
                            <div>
                                <input type="radio" id="agent-yes" name="agent" value="yes">
                                <label for="agent-yes">Yes</label>
                            
                            </div>
                           <div>
                                <input type="radio" id="agent-no" name="agent" value="no">
                                <label for="agent-no">No</label>
                            </div>
                        </div>    
                    </div>
                    <div>
                        <div class="message">
                            <p>Do You Have a House to Sell?</p>  
                        </div>  
                        <div class="radios">
                           <div>
                                <input type="radio" id="sell-yes" name="sell" value="yes">
                                <label for="sell-yes">Yes</label> 
                           </div>
                           <div>
                                <input type="radio" id="sell-no" name="sell" value="no">
                                <label for="sell-no">No</label>
                            </div>
                        </div> 
                    </div>
                </div>
                </div>


            
                <div class="terms">
                    <input type="checkbox" id="terms" name="terms" value="terms">
                <label for="terms">Get amailed when similar properties hit the market</label>
                    </div>
                <button id="register">
                    <span class="material-symbols-outlined">
                    check_circle
                    </span>
                    CHECK IN</button>
                    <div class="telemarketing">
                    <p>By providing your number, you are expressly consenting, 
                    in writing, to receive telemarketing and other messages, 
                    including calls or texts at the number you provided above. 
                    This consent is not required to purchase any good or service. 
                    Message and data rates may apply. Text STOP to cancel.</p>    
                <div>
                </div>
                </div>
                    </div>
                        </div>
                `;
                    const closeBtn = document.querySelector('.close');
                    closeBtn.addEventListener("click", () => {
                        prompt.classList.remove('expand');
                        prompt.classList.remove('promptform');
                        content.innerHTML = "";
                        prompt.innerHTML = "";
                        content.classList.remove('content');
                    })

                } else if (value === 'virtual') {
                    // set the prompt to virtual
                    const tagsInput = document.querySelector('#tags').value;
                    const instructionsInput = document.querySelector('#instructions').value;
                    localStorage.setItem('tags', tagsInput);
                    localStorage.setItem('instructions', instructionsInput);

                    console.log(tagsInput, instructionsInput);
                    prompt.innerHTML = `
                    <div class="container-form">
                        <div class="container-close">
                       <button class="close" onclick="closeOpen()">END OPEN HOUSE</button>
                    </div>
                    
                <h2>Virtual Open House Registration</h2>
                <div class="form">
                           
                <div>
                    <div class="left"> 
                        <img src="${db.img}"
                        alt="openhouse">    
                    <h2>${db.place}</h2>
                    <p>${db.city}</p>
                    <p>${db.price}</p>
                    <p>${db.bed} Bed &nbsp; | &nbsp; ${db.bath} Baths &nbsp; | &nbsp; ${db.sqft}  Sqft</p>
                    
                </div>

                <div class="right">
                    <p>${genderDate()}<br> ${formatTime("start")} - ${formatTime("end")}</p>
                    <p>Signup to attend this virtual open house!<br>
                     You'll receive further instructions once you register.</p>
                <div class="form-include">
                    <input type="text" id="firstname" placeholder="First Name">
                    <input type="text" id="lastname" placeholder="Last Name">
                    <input type="text" id="email" placeholder="Email">
                    <input type="number" id="phone" placeholder="Phone Number">    
                </div>

                <div class="terms">
                    <input type="checkbox" id="terms" name="terms" value="terms">
                <label for="terms">Get amailed when similar properties hit the market</label>
                    </div>
                <button id="register">
                    <span class="material-symbols-outlined">
                    check_circle
                    </span>
                    CHECK IN</button>
                    <div class="telemarketing">
                    <p>By providing your number, you are expressly consenting, 
                    in writing, to receive telemarketing and other messages, 
                    including calls or texts at the number you provided above. 
                    This consent is not required to purchase any good or service. 
                    Message and data rates may apply. Text STOP to cancel.</p>    
                <div>
                </div>
                    </div>
                    </div>    
                        
                    </div>
                `;
                    const closeBtn = document.querySelector('.close');
                    closeBtn.addEventListener("click", () => {
                        prompt.classList.remove('expand');
                        prompt.classList.remove('promptform');
                        content.innerHTML = "";
                        prompt.innerHTML = "";
                        content.classList.remove('content');
                    })
                } else if (value === 'light-comments') {
                    prompt.innerHTML = `
                    <div class="container-form">
                        <div class="container-close">
                       <button class="close" onclick="closeOpen()">END OPEN HOUSE</button>
                    </div>
                <h2>Light Registration With Comments</h2>
                
                <div class="form">
                 
                <div>
                    <div class="left">
                        <img src="${db.img}"
                        alt="openhouse">    
                        <h2>${db.place}</h2>
                    <p>${db.city}</p>
                    <p>${db.price}</p>
                    <p>${db.bed} Bed &nbsp; | &nbsp; ${db.bath} Baths &nbsp; | &nbsp; ${db.sqft}  Sqft</p>
                </div>
                <div class="right">
                    <p>${genderDate()}<br> ${formatTime("start")} - ${formatTime("end")}</p>
                <div class="form-include">
                    <input type="text" id="firstname" placeholder="First Name">
                    <input type="text" id="lastname" placeholder="Last Name">
                    <input type="text" id="email" placeholder="Email">
                    <input type="number" id="phone" placeholder="Phone Number">
                    <textarea type="text" id="comments" placeholder="Comments"></textarea>    
                </div>
                
                <div class="terms">
                    <input type="checkbox" id="terms" name="terms" value="terms">
                <label for="terms">Get amailed when similar properties hit the market</label>
                    </div>
                <button id="register">
                    <span class="material-symbols-outlined">
                    check_circle
                    </span>
                    REGISTER</button>
                    <div class="telemarketing">
                    <p>By providing your number, you are expressly consenting, 
                    in writing, to receive telemarketing and other messages, 
                    including calls or texts at the number you provided above. 
                    This consent is not required to purchase any good or service. 
                    Message and data rates may apply. Text STOP to cancel.</p>    
                <div>
                </div>
                </div>
                    </div>
                        </div>
                `;
                    const closeBtn = document.querySelector('.close');
                    closeBtn.addEventListener("click", () => {
                        prompt.classList.remove('expand');
                        prompt.classList.remove('promptform');
                        content.innerHTML = "";
                        prompt.innerHTML = "";
                        content.classList.remove('content');
                    })
                } else if (value === 'full-comments') {
                    prompt.classList.add('reduce-left');
                    prompt.classList.add('expand');
                    prompt.innerHTML = `
                    <div class="container-form">
                        <div class="container-close">
                       <button class="close" onclick="closeOpen()">END OPEN HOUSE</button>
                    </div>
                <h2>Full Registration</h2>
                <div class="form">
                  
                <div>
                    <div class="left">
                        <img src="${db.img}"
                        alt="openhouse">    
                        <h2>${db.place}</h2>
                    <p>${db.city}</p>
                    <p>${db.price}</p>
                    <p>${db.bed} Bed &nbsp; | &nbsp; ${db.bath} Baths &nbsp; | &nbsp; ${db.sqft}  Sqft</p>
                </div>
                <div class="right">
                    <p>${genderDate()}<br> ${formatTime("start")} - ${formatTime("end")}</p>
                <div class="form-include">
                <div class="form-two">
                    <input type="text" id="firstname" placeholder="First Name">
                    <input type="text" id="lastname" placeholder="Last Name">    
                </div>
                <div class="form-two">
                    <input type="text" id="email" placeholder="Email">
                    <input type="number" id="phone" placeholder="Phone Number">    
                </div>
                <div class="form-two">
                    <div>
                        <div  class="message">
                            <p>What is Your Current Price Range</p>    
                        </div>
                        <div>
                        <select id="price_range_min" value="No Min">
                            <option value="No Min">No Min</option>
                            <option value="100k">$100k</option>
                            <option value="200k">$200k</option>
                            <option value="300k">$300k</option>
                            <option value="400k">$400k</option>
                            <option value="500k">$500k</option>
                            <option value="600k">$600k</option>
                            <option value="700k">$700k</option>
                            <option value="800k">$800k</option>
                            <option value="900k">$900k</option>
                            <option value="1m">$1M</option>
                            <option value="1.5m">$1.5M</option>
                            <option value="2m">$2M</option>
                            <option value="2.5m">$2.5M</option>
                            <option value="3m">$3M</option>
                            <option value="3.5m">$3.5M</option>
                            <option value="4m">$4M</option>
                            <option value="4.5m">$4.5M</option>
                            <option value="5m">$5M</option>
                            <option value="6m">$6M</option>
                            <option value="7m">$7M</option>
                            <option value="8m">$8M</option>
                            <option value="9m">$9M</option>
                            <option value="10m">$10M</option>
                        </select>
                        <select id="price_range_max" value="No Max">
                            <option value="No Max">No Min</option>
                            <option value="100k">$100k</option>
                            <option value="200k">$200k</option>
                            <option value="300k">$300k</option>
                            <option value="400k">$400k</option>
                            <option value="500k">$500k</option>
                            <option value="600k">$600k</option>
                            <option value="700k">$700k</option>
                            <option value="800k">$800k</option>
                            <option value="900k">$900k</option>
                            <option value="1m">$1M</option>
                            <option value="1.5m">$1.5M</option>
                            <option value="2m">$2M</option>
                            <option value="2.5m">$2.5M</option>
                            <option value="3m">$3M</option>
                            <option value="3.5m">$3.5M</option>
                            <option value="4m">$4M</option>
                            <option value="4.5m">$4.5M</option>
                            <option value="5m">$5M</option>
                            <option value="6m">$6M</option>
                            <option value="7m">$7M</option>
                            <option value="8m">$8M</option>
                            <option value="9m">$9M</option>
                            <option value="10m">$10M</option>
                        </select>
                        </div>
                    </div>
                    <div >
                        <div>
                            <div class="message">
                                <p>How Soon Are You Looking to Buy?</p>  
                            </div>
                            <div>
                                <select id="asap" value="ASAP">
                                    <option value="ASAP">ASAP</option>
                                    <option value="1 - 3 Months">1 - 3 Months</option>
                                    <option value="6 - 12 Months">6 - 12 Months</option>
                                    <option value="12+ Months">12+ Months</option>

                                </select> 
                                
                            </div>
                               
                        </div>
                    </div>
                </div>
                <div class="form-two">
                    <div>
                        <div class="message">
                            <p>Are You Working With an Agent?</p>
                        </div>
                        <div class="radios">
                            <div>
                                <input type="radio" id="agent-yes" name="agent" value="yes">
                                <label for="agent-yes">Yes</label>
                            
                            </div>
                           <div>
                                <input type="radio" id="agent-no" name="agent" value="no">
                                <label for="agent-no">No</label>
                            </div>
                        </div>    
                    </div>
                    <div>
                        <div class="message">
                            <p>Do You Have a House to Sell?</p>  
                        </div>  
                        <div class="radios">
                           <div>
                                <input type="radio" id="sell-yes" name="sell" value="yes">
                                <label for="sell-yes">Yes</label> 
                           </div>
                           <div>
                                <input type="radio" id="sell-no" name="sell" value="no">
                                <label for="sell-no">No</label>
                            </div>
                        </div> 
                    </div>
                    
                </div>
                <textarea type="text" id="comments" placeholder="Comments"></textarea>  
                </div>


            
                <div class="terms">
                    <input type="checkbox" id="terms" name="terms" value="terms">
                <label for="terms">Get amailed when similar properties hit the market</label>
                    </div>
                <button id="register">
                    <span class="material-symbols-outlined">
                    check_circle
                    </span>
                    CHECK IN</button>
                    <div class="telemarketing">
                    <p>By providing your number, you are expressly consenting, 
                    in writing, to receive telemarketing and other messages, 
                    including calls or texts at the number you provided above. 
                    This consent is not required to purchase any good or service. 
                    Message and data rates may apply. Text STOP to cancel.</p>    
                <div>
                </div>
                </div>
                    </div>
                        </div>
                `;
                    const closeBtn = document.querySelector('.close');
                    closeBtn.addEventListener("click", () => {
                        prompt.classList.remove('expand');
                        prompt.classList.remove('promptform');
                        content.innerHTML = "";
                        prompt.innerHTML = "";
                        content.classList.remove('content');
                    })


                }

                const registerBtn = document.querySelector('#register');
                registerBtn.addEventListener("click", () => {
                    // send alert if phone or email is empty
                    if (document.querySelector('#phone').value === "" || document.querySelector('#email').value === "") {
                        alert("Please fill phone and email fields");
                        return;
                    }



                    if (value === 'light') {
                        const reciveEmail = document.querySelector('#terms').checked
                        let dataForm = {
                            type_form: "light",
                            date_input: genderDate(),
                            firstname: document.querySelector('#firstname').value,
                            lastname: document.querySelector('#lastname').value,
                            email: document.querySelector('#email').value,
                            phone: document.querySelector('#phone').value,
                            price_range_min: "",
                            price_range_max: "",
                            time_start: formatTime("start"),
                            time_end: formatTime("end"),
                            asap: "",
                            have_agent: "",
                            have_house_sell: "",
                            comments: "",
                            recive_email: reciveEmail ? "yes" : "no",
                            instructions: "",
                            tags: "",
                            house_price: db.price,
                            house_city: db.city,
                            house_place: db.place,
                            house_bed: db.bed,
                            house_bath: db.bath,
                            house_sqft: db.sqft,
                        }
                        actionFetch(dataForm);
                    } else if (value === 'full-r') {
                        // send alert if phone or email is empty
                        if (document.querySelector('#phone').value === "" || document.querySelector('#email').value === "") {
                            alert("Please fill phone and email fields");
                            return;
                        }

                        const isYesAgent = document.querySelector('#agent-yes').checked
                        const isNotAgent = document.querySelector('#agent-no').checked
                        const isYesSell = document.querySelector('#sell-yes').checked
                        const isNotSell = document.querySelector('#sell-no').checked
                        const reciveEmail = document.querySelector('#terms').checked
                        let dataForms = {
                            type_form: "full-r",
                            date_input: genderDate(),
                            firstname: document.querySelector('#firstname').value,
                            lastname: document.querySelector('#lastname').value,
                            email: document.querySelector('#email').value,
                            phone: document.querySelector('#phone').value,
                            price_range_min: document.querySelector('#price_range_min').value,
                            price_range_max: document.querySelector('#price_range_max').value,
                            time_start: formatTime("start"),
                            time_end: formatTime("end"),
                            asap: document.querySelector('#asap').value,
                            have_agent: isYesAgent ? "yes" : isNotAgent ? "no" : "",
                            have_house_sell: isYesSell ? "yes" : isNotSell ? "no" : "",
                            comments: "",
                            recive_email: reciveEmail ? "yes" : "no",
                            instructions: "",
                            tags: "",
                            house_price: db.price,
                            house_city: db.city,
                            house_place: db.place,
                            house_bed: db.bed,
                            house_bath: db.bath,
                            house_sqft: db.sqft,
                        }
                        actionFetch(dataForm);
                    } else if (value === 'virtual') {
                        // send alert if phone or email is empty
                        if (document.querySelector('#phone').value === "" || document.querySelector('#email').value === "") {
                            alert("Please fill phone and email fields");
                            return;
                        }
                        const reciveEmail = document.querySelector('#terms').checked

                        let dataForm = {
                            type_form: "virtual",
                            date_input: genderDate(),
                            firstname: document.querySelector('#firstname').value,
                            lastname: document.querySelector('#lastname').value,
                            email: document.querySelector('#email').value,
                            phone: document.querySelector('#phone').value,
                            price_range_min: "",
                            price_range_max: "",
                            time_start: formatTime("start"),
                            time_end: formatTime("end"),
                            asap: "",
                            have_agent: "",
                            have_house_sell: "",
                            comments: "",
                            recive_email: reciveEmail ? "yes" : "no",
                            instructions: localStorage.getItem('instructions'),
                            tags: localStorage.getItem('tags'),
                            house_price: db.price,
                            house_city: db.city,
                            house_place: db.place,
                            house_bed: db.bed,
                            house_bath: db.bath,
                            house_sqft: db.sqft,

                        }

                        actionFetch(dataForm);
                    } else if (value === 'light-comments') {
                        // send alert if phone or email is empty
                        if (document.querySelector('#phone').value === "" || document.querySelector('#email').value === "") {
                            alert("Please fill phone and email fields");
                            return;
                        }
                        const reciveEmail = document.querySelector('#terms').checked
                        let dataForm = {
                            type_form: "light-comments",
                            date_input: genderDate(),
                            firstname: document.querySelector('#firstname').value,
                            lastname: document.querySelector('#lastname').value,
                            email: document.querySelector('#email').value,
                            phone: document.querySelector('#phone').value,
                            price_range_min: "",
                            price_range_max: "",
                            time_start: formatTime("start"),
                            time_end: formatTime("end"),
                            asap: "",
                            have_agent: "",
                            have_house_sell: "",
                            comments: document.querySelector('#comments').value,
                            recive_email: reciveEmail ? "yes" : "no",
                            instructions: "",
                            tags: "",
                            house_price: db.price,
                            house_city: db.city,
                            house_place: db.place,
                            house_bed: db.bed,
                            house_bath: db.bath,
                            house_sqft: db.sqft,
                        }
                        actionFetch(dataForm);
                    } else if (value === 'full-comments') {
                        // send alert if phone or email is empty
                        if (document.querySelector('#phone').value === "" || document.querySelector('#email').value === "") {
                            alert("Please fill phone and email fields");
                            return;
                        }
                        const isYesAgent = document.querySelector('#agent-yes').checked
                        const isNotAgent = document.querySelector('#agent-no').checked
                        const isYesSell = document.querySelector('#sell-yes').checked
                        const isNotSell = document.querySelector('#sell-no').checked
                        const reciveEmail = document.querySelector('#terms').checked

                        let dataForms = {
                            type_form: "full-comments",
                            date_input: genderDate(),
                            firstname: document.querySelector('#firstname').value,
                            lastname: document.querySelector('#lastname').value,
                            email: document.querySelector('#email').value,
                            phone: document.querySelector('#phone').value,
                            price_range_min: document.querySelector('#price_range_min').value,
                            price_range_max: document.querySelector('#price_range_max').value,
                            time_start: formatTime("start"),
                            time_end: formatTime("end"),
                            asap: document.querySelector('#asap').value,
                            have_agent: isYesAgent ? "yes" : isNotAgent ? "no" : "",
                            have_house_sell: isYesSell ? "yes" : isNotSell ? "no" : "",
                            comments: document.querySelector('#comments').value,
                            recive_email: reciveEmail ? "yes" : "no",
                            instructions: "",
                            tags: "",
                            house_price: db.price,
                            house_city: db.city,
                            house_place: db.place,
                            house_bed: db.bed,
                            house_bath: db.bath,
                            house_sqft: db.sqft,
                        }
                        actionFetch(dataForm);
                    }

                    function renderSucessfully() {
                        prompt.classList.add('success');
                        prompt.innerHTML = `
                        <div class="sucessfully">
                            <h2>Thank you for your registration</h2>
                            <p>Our team will contact you shortly</p>
                        </div>
                        `
                    }
                    renderSucessfully();
                    setTimeout(() => {
                        prompt.classList.remove('success');
                        prompt.classList.remove('expand');
                        prompt.classList.remove('promptform');
                        content.innerHTML = "";
                        prompt.innerHTML = "";
                        content.classList.remove('content');
                    }, 3000);

                })
                async function actionFetch(data) {
                    console.log(data)
                    const url = "https://amarchtest.idxsecure.com/lead-add.php";
                    const response = await fetch(url, {
                        method: "POST",
                        headers: {
                            "Content-type": "application/json",
                        },
                        body: JSON.stringify(data),
                    }).then((res) => console.log(res));
                }

            });
            function closeOpen() {
                content.innerHTML = '';
                content.classList.remove('content');
                content.innerHTML = ""
            }
        }


        setTimeout(() => {

            if (window.location.href.includes('/openhouse')) {
                renderPrimary()

            } else {

            }
        }, 4000);

    </script>

</body>

</html>